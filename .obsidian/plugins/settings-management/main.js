/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => SettingsManagement
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// src/settings.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  enabledpluginsgroup: [],
  enabledcsssnippets: [],
  pluginsgridtype: "list"
};

// src/main.ts
var SettingsManagement = class extends import_obsidian2.Plugin {
  async onload() {
    await this.loadSettings();
    await this.saveSettings();
    this.settingstabId = this.app.setting.settingTabs.map((tab) => tab.id);
    this.optionsId = ["appearance", "hotkeys", "plugins", "community-plugins"];
    this.optionsmenuEl = null;
    this.addNewSvgIcons();
    await this.createSettingsOptionsMenu();
  }
  onunload() {
    this.deleteMenu();
    this.saveSettings();
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async createSettingsOptionsMenu() {
    this.activeTab = this.app.setting.activeTab;
    if (this.activeTab && this.optionsId.includes(this.app.setting.activeTab.id)) {
      this.createMenu(this.app.setting.activeTab.id);
    }
    const setting = this.app.setting;
    setting.onOpen = () => {
      setting.openTabById(setting.lastTabId) || setting.openTab(setting.settingTabs[0]);
      this.activeTab = setting.activeTab;
      this.createMenu(this.activeTab.id);
    };
    setting.settingTabs.forEach(async (tab) => {
      this.registerDomEvent(tab.navEl, "click", () => {
        setting.openTabById(tab.id) || setting.openTab(tab);
        this.createMenu(tab.id);
      });
    });
  }
  createMenu(id) {
    this.deleteMenu();
    if (this.optionsId.includes(id)) {
      this.createSwitcher();
      this.createGridStyle();
      if (id === "appearance" || id === "community-plugins") {
        this.createSaveButton();
        this.createSetConfigButton();
      }
    }
  }
  deleteMenu() {
    if (this.optionsmenuEl) {
      this.optionsmenuEl.remove();
      this.optionsmenuEl = null;
      document.body.classList.remove("pm-show-enabled");
      document.body.classList.remove("pm-show-disabled");
      this.app.setting.activeTab.containerEl.classList.remove("pm-grid");
    }
  }
  addNewSvgIcons() {
    (0, import_obsidian2.addIcon)("toggle-center", '<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-toggle-center"><rect width="20" height="12" x="2" y="6" rx="6" ry="6"/><circle cx="12" cy="12" r="2"/></svg>');
  }
  createSwitcher() {
    if (!this.optionsmenuEl) {
      const containerEl = this.app.setting.tabContentContainer || document.querySelector(".vertical-tab-content-container") || null;
      if (!containerEl) {
        return;
      }
      this.optionsmenuEl = containerEl.createEl("div", { attr: { class: "pm-tabs" } });
    }
    const switcherEl = this.optionsmenuEl.createEl("div", { attr: { class: "pm-tab", value: "switcher" } });
    const switcherButton = new import_obsidian2.ButtonComponent(switcherEl);
    if (document.body.classList.contains("pm-show-enabled")) {
      switcherButton.setIcon("toggle-right");
      switcherButton.setTooltip("Enabled");
    } else if (document.body.classList.contains("pm-show-disabled")) {
      switcherButton.setIcon("toggle-left");
      switcherButton.setTooltip("Disabled");
    } else {
      switcherButton.setIcon("toggle-center");
      switcherButton.setTooltip("All");
    }
    switcherButton.onClick(() => {
      if (document.body.classList.contains("pm-show-enabled")) {
        document.body.classList.remove("pm-show-enabled");
        document.body.classList.add("pm-show-disabled");
        switcherButton.setIcon("toggle-left");
        switcherButton.setTooltip("Disabled");
      } else if (document.body.classList.contains("pm-show-disabled")) {
        document.body.classList.remove("pm-show-disabled");
        switcherButton.setIcon("toggle-center");
        switcherButton.setTooltip("All");
      } else {
        document.body.classList.add("pm-show-enabled");
        switcherButton.setIcon("toggle-right");
        switcherButton.setTooltip("Enabled");
      }
    });
  }
  createGridStyle() {
    if (!this.optionsmenuEl) {
      const containerEl = this.app.setting.tabContentContainer || document.querySelector(".vertical-tab-content-container") || null;
      if (!containerEl) {
        return;
      }
      this.optionsmenuEl = containerEl.createEl("div", { attr: { class: "pm-tabs" } });
    }
    const gridStyleEl = this.optionsmenuEl.createEl("div", { attr: { class: "pm-tab", value: "grid" } });
    const gridStyleButton = new import_obsidian2.ButtonComponent(gridStyleEl);
    if (this.settings.pluginsgridtype === "grid") {
      this.app.setting.activeTab.containerEl.classList.add("pm-grid");
      gridStyleButton.setIcon("layout-grid");
      gridStyleButton.setTooltip("Grid layout");
    } else {
      this.app.setting.activeTab.containerEl.classList.remove("pm-grid");
      gridStyleButton.setIcon("menu");
      gridStyleButton.setTooltip("List layout");
    }
    gridStyleButton.onClick(async () => {
      if (this.settings.pluginsgridtype === "grid") {
        this.app.setting.activeTab.containerEl.classList.remove("pm-grid");
        gridStyleButton.setIcon("menu");
        gridStyleButton.setTooltip("List layout");
        this.settings.pluginsgridtype = "list";
      } else {
        this.app.setting.activeTab.containerEl.classList.add("pm-grid");
        gridStyleButton.setIcon("layout-grid");
        gridStyleButton.setTooltip("Grid layout");
        this.settings.pluginsgridtype = "grid";
      }
      await this.saveSettings();
    });
  }
  createSaveButton() {
    if (!this.optionsmenuEl) {
      return;
    }
    const saveEl = this.optionsmenuEl.createEl("div", { attr: { class: "pm-tab", value: "save" } });
    const saveButton = new import_obsidian2.ButtonComponent(saveEl);
    saveButton.setIcon("save");
    saveButton.setTooltip("Save current configuration.");
    saveButton.onClick(async () => {
      this.saveCurrentConfig();
      await this.saveSettings();
    });
  }
  saveCurrentConfig() {
    const activeTab = this.app.setting.lastTabId;
    switch (activeTab) {
      case "appearance":
        this.saveCssSnippetsConfig();
        break;
      case "community-plugins":
        this.saveCommunityPluginsConfig();
        break;
      default:
        break;
    }
  }
  createSetConfigButton() {
    if (!this.optionsmenuEl) {
      return;
    }
    const configList = this.optionsmenuEl.createEl("div", { attr: { class: "pm-tab", value: "config" } });
    (0, import_obsidian2.setIcon)(configList, "boxes");
    if (this.app.setting.lastTabId === "community-plugins") {
      this.registerDomEvent(configList, "click", () => {
        this.createComPluginsConfigList();
      });
    } else {
      this.registerDomEvent(configList, "click", () => {
        this.createCssSnippetsConfigList();
      });
    }
  }
  /* css snippets */
  createCssSnippetsConfigList() {
    if (!this.optionsmenuEl) {
      return;
    }
    if (this.settings.enabledcsssnippets.length === 0) {
      new import_obsidian2.Notice("No saved configuration");
      return;
    }
    this.configListEl = this.optionsmenuEl.createEl("div", { attr: { class: "pm-configs" } });
    const configCloseEl = this.configListEl.createEl("div", { attr: { class: "pm-tab pm-config pm-config-close", value: "close-icon" } });
    (0, import_obsidian2.setIcon)(configCloseEl, "x");
    this.registerDomEvent(configCloseEl, "click", () => {
      this.configListEl && this.configListEl.remove();
      this.configListEl = null;
    });
    for (let i = 0; i < this.settings.enabledcsssnippets.length; i++) {
      const configItemEl = this.configListEl.createEl("div", { attr: { class: "pm-tab pm-config", value: this.settings.enabledcsssnippets[i].id } });
      const configItemButton = new import_obsidian2.ButtonComponent(configItemEl);
      configItemButton.setIcon("puzzle");
      configItemButton.setTooltip(this.settings.enabledcsssnippets[i].name);
      configItemButton.onClick(() => {
        this.loadCssSnippetsConfig(this.settings.enabledcsssnippets[i]);
        this.configListEl && this.configListEl.remove();
        this.configListEl = null;
      });
      this.registerDomEvent(configItemEl, "contextmenu", (event) => {
        event.preventDefault();
        const menu = new import_obsidian2.Menu();
        menu.addItem((item) => {
          item.setTitle("Delete").setIcon("trash");
          item.onClick(() => {
            this.settings.enabledcsssnippets.splice(i, 1);
            configItemEl.remove();
            this.saveSettings();
          });
        });
        menu.addItem((item) => {
          item.setTitle("Rename").setIcon("pencil");
          item.onClick(() => {
            this.renameCssSnippetsConfig(i);
          });
        });
        menu.showAtMouseEvent(event);
      });
    }
  }
  loadCssSnippetsConfig(config) {
    var _a;
    const snippetsListEl = this.app.setting.tabContentContainer.querySelectorAll(".setting-item.setting-item-heading:has(.clickable-icon) ~ .setting-item.mod-toggle");
    for (let i = 0; i < snippetsListEl.length; i++) {
      const snippetEl = snippetsListEl[i];
      const snippetName = (_a = snippetEl.querySelector(".setting-item-name")) == null ? void 0 : _a.textContent;
      if (!snippetName) {
        continue;
      }
      if (config.enabledcsssnippets.includes(snippetName)) {
        const snippetToggleButton = snippetEl.querySelector(".checkbox-container");
        if (snippetToggleButton && !snippetToggleButton.classList.contains("is-enabled")) {
          snippetToggleButton.click();
        }
      } else if (!config.enabledcsssnippets.includes(snippetName)) {
        const snippetToggleButton = snippetEl.querySelector(".checkbox-container");
        if (snippetToggleButton && snippetToggleButton.classList.contains("is-enabled")) {
          snippetToggleButton.click();
        }
      } else {
        console.log(`Can't find snippet: ${snippetName}`);
      }
    }
  }
  renameCssSnippetsConfig(index) {
    const getNameModal = new import_obsidian2.Modal(this.app).setTitle("Rename css snippets config");
    getNameModal.onOpen = () => {
      let configName = "";
      new import_obsidian2.Setting(getNameModal.contentEl).setName("Config name").addText((text) => text.setPlaceholder(this.settings.enabledcsssnippets[index].name).onChange(
        (value) => {
          configName = value;
        }
      )).addButton(
        (button) => button.setButtonText("Save").onClick(() => {
          if (configName === "") {
            new import_obsidian2.Notice("Config name is empty.");
            return;
          } else {
            this.settings.enabledcsssnippets[index].name = configName;
            this.saveSettings();
            getNameModal.close();
          }
        })
      );
      getNameModal.contentEl.find("input").focus();
    };
    getNameModal.open();
  }
  async saveCssSnippetsConfig() {
    const getNameModal = new import_obsidian2.Modal(this.app).setTitle("Add new css snippets config");
    getNameModal.onOpen = () => {
      let configName = "";
      new import_obsidian2.Setting(getNameModal.contentEl).setName("Config name").addText((text) => text.onChange(
        (value) => {
          configName = value;
        }
      )).addButton(
        (button) => button.setButtonText("Save").onClick(() => {
          if (configName === "") {
            new import_obsidian2.Notice("Config name is empty.");
            return;
          } else {
            this.settings.enabledcsssnippets.push(
              this.createCurCssSnippetsConfig(this.app.setting.tabContentContainer, configName)
            );
            this.saveSettings();
            getNameModal.close();
          }
        })
      );
      getNameModal.contentEl.find("input").focus();
    };
    getNameModal.open();
    await this.saveSettings();
  }
  createCurCssSnippetsConfig(container, configName) {
    const snippetsListEl = container.querySelectorAll(".setting-item.setting-item-heading:has(.clickable-icon) ~ .setting-item.mod-toggle");
    const snippets = Array.from(snippetsListEl).map((snippetEl) => {
      var _a;
      return ((_a = snippetEl.querySelector(".setting-item-name")) == null ? void 0 : _a.textContent) || "";
    });
    return {
      id: Date.now().toString(10),
      name: configName,
      enabledcsssnippets: snippets
    };
  }
  /* community plugins */
  createComPluginsConfigList() {
    if (!this.optionsmenuEl) {
      return;
    }
    if (this.settings.enabledpluginsgroup.length === 0) {
      new import_obsidian2.Notice("No saved configuration");
      return;
    }
    this.configListEl = this.optionsmenuEl.createEl("div", { attr: { class: "pm-configs" } });
    const configCloseEl = this.configListEl.createEl("div", { attr: { class: "pm-tab pm-config pm-config-close", value: "close-icon" } });
    (0, import_obsidian2.setIcon)(configCloseEl, "x");
    this.registerDomEvent(configCloseEl, "click", () => {
      this.configListEl && this.configListEl.remove();
      this.configListEl = null;
    });
    for (let i = 0; i < this.settings.enabledpluginsgroup.length; i++) {
      const configItemEl = this.configListEl.createEl("div", { attr: { class: "pm-tab pm-config", value: this.settings.enabledpluginsgroup[i].id } });
      const configItemButton = new import_obsidian2.ButtonComponent(configItemEl);
      configItemButton.setIcon("puzzle");
      configItemButton.setTooltip(this.settings.enabledpluginsgroup[i].name);
      configItemButton.onClick(async () => {
        this.loadComPluginsConfig(this.settings.enabledpluginsgroup[i]);
        this.configListEl && this.configListEl.remove();
        this.configListEl = null;
      });
      this.registerDomEvent(configItemEl, "contextmenu", (event) => {
        event.preventDefault();
        const menu = new import_obsidian2.Menu();
        menu.addItem((item) => {
          item.setTitle("Delete").setIcon("trash");
          item.onClick(() => {
            this.settings.enabledpluginsgroup.splice(i, 1);
            this.saveSettings();
            configItemEl.remove();
            if (this.configListEl && this.configListEl.children.length === 1) {
              this.configListEl.remove();
              this.configListEl = null;
            }
          });
        });
        menu.addItem((item) => {
          item.setTitle("Rename").setIcon("pencil");
          item.onClick(() => {
            this.renameComPluginsConfig(i);
          });
        });
        menu.showAtMouseEvent(event);
      });
    }
  }
  renameComPluginsConfig(index) {
    const getNameModal = new import_obsidian2.Modal(this.app).setTitle("Rename plugins config");
    getNameModal.onOpen = () => {
      let configName = "";
      new import_obsidian2.Setting(getNameModal.contentEl).setName("Config name").addText((text) => text.setPlaceholder(this.settings.enabledpluginsgroup[index].name).onChange(
        (value) => {
          configName = value;
        }
      )).addButton(
        (button) => button.setButtonText("Save").onClick(() => {
          if (configName === "") {
            new import_obsidian2.Notice("Config name is empty.");
            return;
          } else {
            this.settings.enabledpluginsgroup[index].name = configName;
            this.saveSettings();
            getNameModal.close();
          }
        })
      );
      getNameModal.contentEl.find("input").focus();
    };
    getNameModal.open();
  }
  loadComPluginsConfig(config) {
    var _a, _b, _c;
    if (!this.app.setting.settingTabs[6].installedPluginsEl) {
      return;
    }
    const pluginsListEl = this.app.setting.settingTabs[6].installedPluginsEl.childNodes;
    for (let i = 0; i < pluginsListEl.length; i++) {
      const pluginEl = pluginsListEl[i];
      const pluginName = (_a = pluginEl.querySelector(".setting-item-name")) == null ? void 0 : _a.textContent;
      if (!pluginName) {
        continue;
      }
      const pluginDescription = ((_c = (_b = pluginEl.querySelector(".setting-item-description")) == null ? void 0 : _b.lastChild) == null ? void 0 : _c.textContent) || "";
      const pluginId = this.nameToId(pluginName, pluginDescription);
      if (pluginId && config.enabledplugins.includes(pluginId)) {
        const pluginToggleButton = pluginEl.querySelector(".checkbox-container");
        if (pluginToggleButton && !pluginToggleButton.classList.contains("is-enabled")) {
          pluginToggleButton.click();
        }
      } else if (pluginId && !config.enabledplugins.includes(pluginId)) {
        const pluginToggleButton = pluginEl.querySelector(".checkbox-container");
        if (pluginToggleButton && pluginToggleButton.classList.contains("is-enabled")) {
          pluginToggleButton.click();
        }
      } else {
        console.log(`Can't find plugin: ${pluginName}`);
      }
    }
  }
  nameToId(name, description) {
    return Object.keys(this.app.plugins.manifests).find((key) => this.app.plugins.manifests[key].name === name && this.app.plugins.manifests[key].description === description) || "";
  }
  saveCommunityPluginsConfig() {
    const getNameModal = new import_obsidian2.Modal(this.app).setTitle("Add new community plugins config");
    getNameModal.onOpen = () => {
      let configName = "";
      new import_obsidian2.Setting(getNameModal.contentEl).setName("Config name").addText((text) => text.onChange(
        (value) => {
          configName = value;
        }
      )).addButton(
        (button) => button.setButtonText("Save").onClick(() => {
          if (configName === "") {
            new import_obsidian2.Notice("Config name is empty.");
            return;
          } else {
            this.settings.enabledpluginsgroup.push(this.createCurComPluginsConfig(this.app.plugins.enabledPlugins, configName));
            this.saveSettings();
            getNameModal.close();
          }
        })
      );
      getNameModal.contentEl.find("input").focus();
    };
    getNameModal.open();
  }
  createCurComPluginsConfig(enabledPlugins, name) {
    return {
      id: Date.now().toString(10),
      name,
      enabledplugins: Array.from(enabledPlugins)
    };
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vb2JzaWRpYW4tc2V0dGluZ3MtbWFuYWdlbWVudC9zcmMvbWFpbi50cyIsICIuLi8uLi8uLi8uLi9vYnNpZGlhbi1zZXR0aW5ncy1tYW5hZ2VtZW50L3NyYy9zZXR0aW5ncy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQnV0dG9uQ29tcG9uZW50LCBNZW51LCBNb2RhbCwgTm90aWNlLCBQbGF0Zm9ybSwgUGx1Z2luLCBTZXR0aW5nLCBTZXR0aW5nVGFiLCBhZGRJY29uLCBzZXRJY29uIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUywgU2V0dGluZ3NPcHRpb25zTWFuYWdlbWVudFNldHRpbmdzIGFzIFNldHRpbmdzTWFuYWdlbWVudFNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFbmFibGVkQ3NzU25pcHBldHMsIEVuYWJsZWRQbHVnaW5zIH0gZnJvbSAnLi90eXBlcyc7XG5cbmRlY2xhcmUgbW9kdWxlIFwib2JzaWRpYW5cIiB7XG4gIGludGVyZmFjZSBBcHAge1xuICAgIHNldHRpbmc6IEFwcFNldHRpbmc7XG4gICAgcGx1Z2luczogUGx1Z2luc0NvbmZpZztcbiAgfVxuICAvLyB0aGlzLmFwcC5zZXR0aW5nXG4gIGludGVyZmFjZSBBcHBTZXR0aW5nIHtcbiAgICBhY3RpdmVUYWI6IFNldHRpbmdUYWI7XG4gICAgc2V0dGluZ1RhYnM6IFNldHRpbmdUYWJbXTtcbiAgICB0YWJDb250ZW50Q29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBsYXN0VGFiSWQ6IHN0cmluZztcbiAgICBvbk9wZW4oKTogdm9pZDtcbiAgICBvcGVuVGFiQnlJZChpZDogc3RyaW5nKTogYm9vbGVhbjtcbiAgICBvcGVuVGFiKHRhYjogU2V0dGluZ1RhYik6IHZvaWQ7XG4gIH1cbiAgXG4gIGludGVyZmFjZSBTZXR0aW5nVGFiIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBjb250YWluZXJFbDogSFRNTEVsZW1lbnQ7XG4gICAgbmF2RWw6IEhUTUxFbGVtZW50O1xuICAgIGluc3RhbGxlZFBsdWdpbnNFbD86IEhUTUxFbGVtZW50O1xuICB9XG4gIC8vIHRoaXMuYXBwLnBsdWdpbnNcbiAgaW50ZXJmYWNlIFBsdWdpbnNDb25maWcge1xuICAgIG1hbmlmZXN0czoge1xuICAgICAgW2tleTogc3RyaW5nXTogUGx1Z2luTWFuaWZlc3Q7XG4gICAgfTtcbiAgICBlbmFibGVkUGx1Z2luczogU2V0PHN0cmluZz47XG4gICAgcGx1Z2luczoge1xuICAgICAgW2tleTogc3RyaW5nXTogUGx1Z2luO1xuICAgIH1cbiAgICBpc0VuYWJsZWQocGx1Z2luaWQ6IHN0cmluZyk6IGJvb2xlYW47XG4gICAgZW5hYmxlUGx1Z2luQW5kU2F2ZShwbHVnaW5pZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPjtcbiAgICBkaXNhYmxlUGx1Z2luQW5kU2F2ZShwbHVnaW5pZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXR0aW5nc01hbmFnZW1lbnQgZXh0ZW5kcyBQbHVnaW4ge1xuICBzZXR0aW5nczogU2V0dGluZ3NNYW5hZ2VtZW50U2V0dGluZ3M7XG4gIHNldHRpbmdUYWJzOiBTZXR0aW5nVGFiW107XG4gIHNldHRpbmdzdGFiSWQ6IHN0cmluZ1tdO1xuICBvcHRpb25zSWQ6IHN0cmluZ1tdO1xuICBhY3RpdmVUYWI6IFNldHRpbmdUYWI7XG4gIG9wdGlvbnNtZW51RWw6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgY29uZmlnTGlzdEVsOiBIVE1MRWxlbWVudCB8IG51bGw7XG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAvLyB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFBsdWdpbnNNYW5hZ2VtZW50U2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpOyAvLyBIYXZlbid0IHVzZSBzZXR0aW5nVGFiIHRlbXBvcmFyaWx5LlxuXG4gICAgdGhpcy5zZXR0aW5nc3RhYklkID0gdGhpcy5hcHAuc2V0dGluZy5zZXR0aW5nVGFicy5tYXAodGFiID0+IHRhYi5pZCk7XG4gICAgdGhpcy5vcHRpb25zSWQgPSBbJ2FwcGVhcmFuY2UnLCAnaG90a2V5cycsICdwbHVnaW5zJywgJ2NvbW11bml0eS1wbHVnaW5zJ107XG4gICAgdGhpcy5vcHRpb25zbWVudUVsID0gbnVsbDtcblxuICAgIC8vIGFkZCBuZXcgc3ZnIGljb25zOiB0b2dnbGUtY2VudGVyIHdoaWNoIGlzIG5vdCBhdmFpbGFibGUgaW4gbHVjaWRlLiBJdCdzIGEgdG9nZ2xlIGljb24gYnV0IHRoZSBjaXJjbGUgaXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgcmVjdC5cbiAgICB0aGlzLmFkZE5ld1N2Z0ljb25zKCk7XG4gICAgYXdhaXQgdGhpcy5jcmVhdGVTZXR0aW5nc09wdGlvbnNNZW51KCk7XG4gIH1cbiAgXG4gIG9udW5sb2FkKCkge1xuICAgIHRoaXMuZGVsZXRlTWVudSgpO1xuICAgIHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gIH1cblxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gIH1cblxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVNldHRpbmdzT3B0aW9uc01lbnUoKSB7XG4gICAgdGhpcy5hY3RpdmVUYWIgPSB0aGlzLmFwcC5zZXR0aW5nLmFjdGl2ZVRhYjtcbiAgICBpZiAodGhpcy5hY3RpdmVUYWIgJiYgdGhpcy5vcHRpb25zSWQuaW5jbHVkZXModGhpcy5hcHAuc2V0dGluZy5hY3RpdmVUYWIuaWQpKSB7XG4gICAgICB0aGlzLmNyZWF0ZU1lbnUodGhpcy5hcHAuc2V0dGluZy5hY3RpdmVUYWIuaWQpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBzZXR0aW5nID0gdGhpcy5hcHAuc2V0dGluZztcbiAgICBzZXR0aW5nLm9uT3BlbiA9ICgpID0+IHtcbiAgICAgIHNldHRpbmcub3BlblRhYkJ5SWQoc2V0dGluZy5sYXN0VGFiSWQpIHx8IHNldHRpbmcub3BlblRhYihzZXR0aW5nLnNldHRpbmdUYWJzWzBdKVxuICAgICAgdGhpcy5hY3RpdmVUYWIgPSBzZXR0aW5nLmFjdGl2ZVRhYjtcbiAgICAgIHRoaXMuY3JlYXRlTWVudSh0aGlzLmFjdGl2ZVRhYi5pZCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NzZEMVx1NTQyQ1x1NkJDRlx1NEUyQSB0YWIgXHU2NjJGXHU1NDI2XHU4OEFCXHU3MEI5XHU1MUZCXG4gICAgc2V0dGluZy5zZXR0aW5nVGFicy5mb3JFYWNoKGFzeW5jICh0YWIpID0+IHtcbiAgICAgIHRoaXMucmVnaXN0ZXJEb21FdmVudCh0YWIubmF2RWwsICdjbGljaycsICgpID0+IHtcbiAgICAgICAgc2V0dGluZy5vcGVuVGFiQnlJZCh0YWIuaWQpIHx8IHNldHRpbmcub3BlblRhYih0YWIpO1xuICAgICAgICB0aGlzLmNyZWF0ZU1lbnUodGFiLmlkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlTWVudShpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5kZWxldGVNZW51KCk7XG4gICAgaWYgKHRoaXMub3B0aW9uc0lkLmluY2x1ZGVzKGlkKSkge1xuICAgICAgdGhpcy5jcmVhdGVTd2l0Y2hlcigpO1xuICAgICAgdGhpcy5jcmVhdGVHcmlkU3R5bGUoKTtcbiAgICAgIGlmIChpZCA9PT0gJ2FwcGVhcmFuY2UnIHx8IGlkID09PSAnY29tbXVuaXR5LXBsdWdpbnMnKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU2F2ZUJ1dHRvbigpO1xuICAgICAgICB0aGlzLmNyZWF0ZVNldENvbmZpZ0J1dHRvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZU1lbnUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMub3B0aW9uc21lbnVFbCkge1xuICAgICAgdGhpcy5vcHRpb25zbWVudUVsLnJlbW92ZSgpO1xuICAgICAgdGhpcy5vcHRpb25zbWVudUVsID0gbnVsbDtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncG0tc2hvdy1lbmFibGVkJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3BtLXNob3ctZGlzYWJsZWQnKTtcbiAgICAgIC8vIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncG0tZ3JpZCcpO1xuICAgICAgdGhpcy5hcHAuc2V0dGluZy5hY3RpdmVUYWIuY29udGFpbmVyRWwuY2xhc3NMaXN0LnJlbW92ZSgncG0tZ3JpZCcpO1xuICAgIH1cbiAgfVxuXG4gIGFkZE5ld1N2Z0ljb25zKCkge1xuICAgIGFkZEljb24oJ3RvZ2dsZS1jZW50ZXInLCAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxMDBcIiBoZWlnaHQ9XCIxMDBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgY2xhc3M9XCJsdWNpZGUgbHVjaWRlLXRvZ2dsZS1jZW50ZXJcIj48cmVjdCB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMTJcIiB4PVwiMlwiIHk9XCI2XCIgcng9XCI2XCIgcnk9XCI2XCIvPjxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMlwiLz48L3N2Zz4nKVxuICB9XG5cbiAgY3JlYXRlU3dpdGNoZXIoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnNtZW51RWwpIHtcbiAgICAgIGNvbnN0IGNvbnRhaW5lckVsID0gdGhpcy5hcHAuc2V0dGluZy50YWJDb250ZW50Q29udGFpbmVyIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52ZXJ0aWNhbC10YWItY29udGVudC1jb250YWluZXInKSB8fCBudWxsO1xuICAgICAgaWYgKCFjb250YWluZXJFbCkgeyByZXR1cm47IH1cbiAgICAgIHRoaXMub3B0aW9uc21lbnVFbCA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdkaXYnLCB7IGF0dHI6IHsgY2xhc3M6ICdwbS10YWJzJyB9IH0pO1xuICAgIH1cbiAgICBjb25zdCBzd2l0Y2hlckVsID0gdGhpcy5vcHRpb25zbWVudUVsLmNyZWF0ZUVsKCdkaXYnLCB7IGF0dHI6IHsgY2xhc3M6ICdwbS10YWInLCB2YWx1ZTogJ3N3aXRjaGVyJyB9IH0pO1xuICAgIGNvbnN0IHN3aXRjaGVyQnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChzd2l0Y2hlckVsKTtcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3BtLXNob3ctZW5hYmxlZCcpKSB7XG4gICAgICBzd2l0Y2hlckJ1dHRvbi5zZXRJY29uKCd0b2dnbGUtcmlnaHQnKTtcbiAgICAgIHN3aXRjaGVyQnV0dG9uLnNldFRvb2x0aXAoJ0VuYWJsZWQnKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwbS1zaG93LWRpc2FibGVkJykpIHtcbiAgICAgIHN3aXRjaGVyQnV0dG9uLnNldEljb24oJ3RvZ2dsZS1sZWZ0Jyk7XG4gICAgICBzd2l0Y2hlckJ1dHRvbi5zZXRUb29sdGlwKCdEaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2hlckJ1dHRvbi5zZXRJY29uKCd0b2dnbGUtY2VudGVyJyk7XG4gICAgICBzd2l0Y2hlckJ1dHRvbi5zZXRUb29sdGlwKCdBbGwnKTtcbiAgICB9XG4gICAgXG4gICAgc3dpdGNoZXJCdXR0b24ub25DbGljaygoKSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3BtLXNob3ctZW5hYmxlZCcpKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncG0tc2hvdy1lbmFibGVkJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgncG0tc2hvdy1kaXNhYmxlZCcpO1xuICAgICAgICBzd2l0Y2hlckJ1dHRvbi5zZXRJY29uKCd0b2dnbGUtbGVmdCcpO1xuICAgICAgICBzd2l0Y2hlckJ1dHRvbi5zZXRUb29sdGlwKCdEaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygncG0tc2hvdy1kaXNhYmxlZCcpKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncG0tc2hvdy1kaXNhYmxlZCcpO1xuICAgICAgICBzd2l0Y2hlckJ1dHRvbi5zZXRJY29uKCd0b2dnbGUtY2VudGVyJyk7XG4gICAgICAgIHN3aXRjaGVyQnV0dG9uLnNldFRvb2x0aXAoJ0FsbCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdwbS1zaG93LWVuYWJsZWQnKTtcbiAgICAgICAgc3dpdGNoZXJCdXR0b24uc2V0SWNvbigndG9nZ2xlLXJpZ2h0Jyk7XG4gICAgICAgIHN3aXRjaGVyQnV0dG9uLnNldFRvb2x0aXAoJ0VuYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZUdyaWRTdHlsZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMub3B0aW9uc21lbnVFbCkge1xuICAgICAgY29uc3QgY29udGFpbmVyRWwgPSB0aGlzLmFwcC5zZXR0aW5nLnRhYkNvbnRlbnRDb250YWluZXIgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZlcnRpY2FsLXRhYi1jb250ZW50LWNvbnRhaW5lcicpIHx8IG51bGw7XG4gICAgICBpZiAoIWNvbnRhaW5lckVsKSB7IHJldHVybjsgfVxuICAgICAgdGhpcy5vcHRpb25zbWVudUVsID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ2RpdicsIHsgYXR0cjogeyBjbGFzczogJ3BtLXRhYnMnIH0gfSk7XG4gICAgfVxuICAgIGNvbnN0IGdyaWRTdHlsZUVsID0gdGhpcy5vcHRpb25zbWVudUVsLmNyZWF0ZUVsKCdkaXYnLCB7IGF0dHI6IHsgY2xhc3M6ICdwbS10YWInLCB2YWx1ZTogJ2dyaWQnIH0gfSk7XG4gICAgY29uc3QgZ3JpZFN0eWxlQnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChncmlkU3R5bGVFbCk7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MucGx1Z2luc2dyaWR0eXBlID09PSAnZ3JpZCcpIHtcbiAgICAgIC8vIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgncG0tZ3JpZCcpO1xuICAgICAgdGhpcy5hcHAuc2V0dGluZy5hY3RpdmVUYWIuY29udGFpbmVyRWwuY2xhc3NMaXN0LmFkZCgncG0tZ3JpZCcpO1xuICAgICAgZ3JpZFN0eWxlQnV0dG9uLnNldEljb24oJ2xheW91dC1ncmlkJyk7XG4gICAgICBncmlkU3R5bGVCdXR0b24uc2V0VG9vbHRpcCgnR3JpZCBsYXlvdXQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdwbS1ncmlkJyk7XG4gICAgICB0aGlzLmFwcC5zZXR0aW5nLmFjdGl2ZVRhYi5jb250YWluZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCdwbS1ncmlkJyk7XG4gICAgICBncmlkU3R5bGVCdXR0b24uc2V0SWNvbignbWVudScpO1xuICAgICAgZ3JpZFN0eWxlQnV0dG9uLnNldFRvb2x0aXAoJ0xpc3QgbGF5b3V0Jyk7XG4gICAgfVxuXG4gICAgZ3JpZFN0eWxlQnV0dG9uLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucGx1Z2luc2dyaWR0eXBlID09PSAnZ3JpZCcpIHtcbiAgICAgICAgLy8gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdwbS1ncmlkJyk7XG4gICAgICAgIHRoaXMuYXBwLnNldHRpbmcuYWN0aXZlVGFiLmNvbnRhaW5lckVsLmNsYXNzTGlzdC5yZW1vdmUoJ3BtLWdyaWQnKTtcbiAgICAgICAgZ3JpZFN0eWxlQnV0dG9uLnNldEljb24oJ21lbnUnKTtcbiAgICAgICAgZ3JpZFN0eWxlQnV0dG9uLnNldFRvb2x0aXAoJ0xpc3QgbGF5b3V0Jyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGx1Z2luc2dyaWR0eXBlID0gJ2xpc3QnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdwbS1ncmlkJyk7XG4gICAgICAgIHRoaXMuYXBwLnNldHRpbmcuYWN0aXZlVGFiLmNvbnRhaW5lckVsLmNsYXNzTGlzdC5hZGQoJ3BtLWdyaWQnKTtcbiAgICAgICAgZ3JpZFN0eWxlQnV0dG9uLnNldEljb24oJ2xheW91dC1ncmlkJyk7XG4gICAgICAgIGdyaWRTdHlsZUJ1dHRvbi5zZXRUb29sdGlwKCdHcmlkIGxheW91dCcpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBsdWdpbnNncmlkdHlwZSA9ICdncmlkJztcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVTYXZlQnV0dG9uKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5vcHRpb25zbWVudUVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFx1NEZERFx1NUI1OFx1NjMwOVx1OTRBRVxuICAgIGNvbnN0IHNhdmVFbCA9IHRoaXMub3B0aW9uc21lbnVFbC5jcmVhdGVFbCgnZGl2JywgeyBhdHRyOiB7IGNsYXNzOiAncG0tdGFiJywgdmFsdWU6ICdzYXZlJyB9IH0pO1xuICAgIGNvbnN0IHNhdmVCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KHNhdmVFbCk7XG4gICAgc2F2ZUJ1dHRvbi5zZXRJY29uKCdzYXZlJyk7XG4gICAgc2F2ZUJ1dHRvbi5zZXRUb29sdGlwKCdTYXZlIGN1cnJlbnQgY29uZmlndXJhdGlvbi4nKTtcbiAgICBzYXZlQnV0dG9uLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5zYXZlQ3VycmVudENvbmZpZygpO1xuICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVDdXJyZW50Q29uZmlnKCk6IHZvaWQge1xuICAgIGNvbnN0IGFjdGl2ZVRhYiA9IHRoaXMuYXBwLnNldHRpbmcubGFzdFRhYklkO1xuICAgIHN3aXRjaCAoYWN0aXZlVGFiKSB7XG4gICAgICBjYXNlICdhcHBlYXJhbmNlJzpcbiAgICAgICAgdGhpcy5zYXZlQ3NzU25pcHBldHNDb25maWcoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjb21tdW5pdHktcGx1Z2lucyc6XG4gICAgICAgIHRoaXMuc2F2ZUNvbW11bml0eVBsdWdpbnNDb25maWcoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBjcmVhdGVTZXRDb25maWdCdXR0b24oKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnNtZW51RWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gXHU1MjFCXHU1RUZBXHU0RTAwXHU0RTJBXHU5MTREXHU3RjZFXHU1MjE3XHU4ODY4XHVGRjBDXHU3NTI4XHU0RThFXHU1QjU4XHU2NTNFXHU5MTREXHU3RjZFXHVGRjBDXHU3MEI5XHU1MUZCXHU1NDBFXHU1M0VGXHU0RUU1XHU0RjdGXHU3NTI4XHU1QkY5XHU1RTk0XHU3Njg0XHU5MTREXHU3RjZFXG4gICAgY29uc3QgY29uZmlnTGlzdCA9IHRoaXMub3B0aW9uc21lbnVFbC5jcmVhdGVFbCgnZGl2JywgeyBhdHRyOiB7IGNsYXNzOiAncG0tdGFiJywgdmFsdWU6ICdjb25maWcnIH0gfSk7XG4gICAgc2V0SWNvbihjb25maWdMaXN0LCAnYm94ZXMnKTtcbiAgICBpZiAodGhpcy5hcHAuc2V0dGluZy5sYXN0VGFiSWQgPT09ICdjb21tdW5pdHktcGx1Z2lucycpIHtcbiAgICAgIHRoaXMucmVnaXN0ZXJEb21FdmVudChjb25maWdMaXN0LCAnY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY3JlYXRlQ29tUGx1Z2luc0NvbmZpZ0xpc3QoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoY29uZmlnTGlzdCwgJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmNyZWF0ZUNzc1NuaXBwZXRzQ29uZmlnTGlzdCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyogY3NzIHNuaXBwZXRzICovXG4gIGNyZWF0ZUNzc1NuaXBwZXRzQ29uZmlnTGlzdCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMub3B0aW9uc21lbnVFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVkY3Nzc25pcHBldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBuZXcgTm90aWNlKCdObyBzYXZlZCBjb25maWd1cmF0aW9uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY29uZmlnTGlzdEVsID0gdGhpcy5vcHRpb25zbWVudUVsLmNyZWF0ZUVsKCdkaXYnLCB7IGF0dHI6IHsgY2xhc3M6ICdwbS1jb25maWdzJyB9IH0pO1xuICAgIGNvbnN0IGNvbmZpZ0Nsb3NlRWwgPSB0aGlzLmNvbmZpZ0xpc3RFbC5jcmVhdGVFbCgnZGl2JywgeyBhdHRyOiB7IGNsYXNzOiAncG0tdGFiIHBtLWNvbmZpZyBwbS1jb25maWctY2xvc2UnLCB2YWx1ZTogJ2Nsb3NlLWljb24nIH0gfSk7XG4gICAgc2V0SWNvbihjb25maWdDbG9zZUVsLCAneCcpO1xuICAgIHRoaXMucmVnaXN0ZXJEb21FdmVudChjb25maWdDbG9zZUVsLCAnY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNvbmZpZ0xpc3RFbCAmJiB0aGlzLmNvbmZpZ0xpc3RFbC5yZW1vdmUoKTtcbiAgICAgIHRoaXMuY29uZmlnTGlzdEVsID0gbnVsbDtcbiAgICB9KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZXR0aW5ncy5lbmFibGVkY3Nzc25pcHBldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbmZpZ0l0ZW1FbCA9IHRoaXMuY29uZmlnTGlzdEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGF0dHI6IHsgY2xhc3M6ICdwbS10YWIgcG0tY29uZmlnJywgdmFsdWU6IHRoaXMuc2V0dGluZ3MuZW5hYmxlZGNzc3NuaXBwZXRzW2ldLmlkIH0gfSk7XG4gICAgICBjb25zdCBjb25maWdJdGVtQnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb25maWdJdGVtRWwpO1xuICAgICAgY29uZmlnSXRlbUJ1dHRvbi5zZXRJY29uKCdwdXp6bGUnKTtcbiAgICAgIGNvbmZpZ0l0ZW1CdXR0b24uc2V0VG9vbHRpcCh0aGlzLnNldHRpbmdzLmVuYWJsZWRjc3NzbmlwcGV0c1tpXS5uYW1lKTtcbiAgICAgIGNvbmZpZ0l0ZW1CdXR0b24ub25DbGljaygoKSA9PiB7XG4gICAgICAgIHRoaXMubG9hZENzc1NuaXBwZXRzQ29uZmlnKHRoaXMuc2V0dGluZ3MuZW5hYmxlZGNzc3NuaXBwZXRzW2ldKTtcbiAgICAgICAgdGhpcy5jb25maWdMaXN0RWwgJiYgdGhpcy5jb25maWdMaXN0RWwucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuY29uZmlnTGlzdEVsID0gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZWdpc3RlckRvbUV2ZW50KGNvbmZpZ0l0ZW1FbCwgJ2NvbnRleHRtZW51JywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xuICAgICAgICBtZW51LmFkZEl0ZW0oaXRlbSA9PiB7XG4gICAgICAgICAgaXRlbS5zZXRUaXRsZSgnRGVsZXRlJykuc2V0SWNvbigndHJhc2gnKTtcbiAgICAgICAgICBpdGVtLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5lbmFibGVkY3Nzc25pcHBldHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgY29uZmlnSXRlbUVsLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcbiAgICAgICAgICBpdGVtLnNldFRpdGxlKCdSZW5hbWUnKS5zZXRJY29uKCdwZW5jaWwnKTtcbiAgICAgICAgICBpdGVtLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5hbWVDc3NTbmlwcGV0c0NvbmZpZyhpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1lbnUuc2hvd0F0TW91c2VFdmVudChldmVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBsb2FkQ3NzU25pcHBldHNDb25maWcoY29uZmlnOiBFbmFibGVkQ3NzU25pcHBldHMpOiB2b2lkIHtcbiAgICBjb25zdCBzbmlwcGV0c0xpc3RFbCA9IHRoaXMuYXBwLnNldHRpbmcudGFiQ29udGVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuc2V0dGluZy1pdGVtLnNldHRpbmctaXRlbS1oZWFkaW5nOmhhcyguY2xpY2thYmxlLWljb24pIH4gLnNldHRpbmctaXRlbS5tb2QtdG9nZ2xlJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbmlwcGV0c0xpc3RFbC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc25pcHBldEVsID0gc25pcHBldHNMaXN0RWxbaV0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBjb25zdCBzbmlwcGV0TmFtZSA9IHNuaXBwZXRFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLW5hbWUnKT8udGV4dENvbnRlbnQ7XG4gICAgICBpZiAoIXNuaXBwZXROYW1lKSB7IGNvbnRpbnVlOyB9XG4gICAgICBpZiAoY29uZmlnLmVuYWJsZWRjc3NzbmlwcGV0cy5pbmNsdWRlcyhzbmlwcGV0TmFtZSkpIHtcbiAgICAgICAgY29uc3Qgc25pcHBldFRvZ2dsZUJ1dHRvbiA9IHNuaXBwZXRFbC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3gtY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGlmIChzbmlwcGV0VG9nZ2xlQnV0dG9uICYmICFzbmlwcGV0VG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnaXMtZW5hYmxlZCcpKSB7XG4gICAgICAgICAgc25pcHBldFRvZ2dsZUJ1dHRvbi5jbGljaygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICghY29uZmlnLmVuYWJsZWRjc3NzbmlwcGV0cy5pbmNsdWRlcyhzbmlwcGV0TmFtZSkpIHtcbiAgICAgICAgY29uc3Qgc25pcHBldFRvZ2dsZUJ1dHRvbiA9IHNuaXBwZXRFbC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3gtY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGlmIChzbmlwcGV0VG9nZ2xlQnV0dG9uICYmIHNuaXBwZXRUb2dnbGVCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1lbmFibGVkJykpIHtcbiAgICAgICAgICBzbmlwcGV0VG9nZ2xlQnV0dG9uLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhgQ2FuJ3QgZmluZCBzbmlwcGV0OiAke3NuaXBwZXROYW1lfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbmFtZUNzc1NuaXBwZXRzQ29uZmlnKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBnZXROYW1lTW9kYWwgPSBuZXcgTW9kYWwodGhpcy5hcHApLnNldFRpdGxlKCdSZW5hbWUgY3NzIHNuaXBwZXRzIGNvbmZpZycpO1xuICAgIGdldE5hbWVNb2RhbC5vbk9wZW4gPSAoKSA9PiB7XG4gICAgICBsZXQgY29uZmlnTmFtZSA9ICcnXG4gICAgICBuZXcgU2V0dGluZyhnZXROYW1lTW9kYWwuY29udGVudEVsKVxuICAgICAgICAuc2V0TmFtZSgnQ29uZmlnIG5hbWUnKVxuICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIodGhpcy5zZXR0aW5ncy5lbmFibGVkY3Nzc25pcHBldHNbaW5kZXhdLm5hbWUpXG4gICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uZmlnTmFtZSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICApKVxuICAgICAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cbiAgICAgICAgICAuc2V0QnV0dG9uVGV4dCgnU2F2ZScpXG4gICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbmZpZ05hbWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ0NvbmZpZyBuYW1lIGlzIGVtcHR5LicpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmVuYWJsZWRjc3NzbmlwcGV0c1tpbmRleF0ubmFtZSA9IGNvbmZpZ05hbWU7XG4gICAgICAgICAgICAgIHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgIGdldE5hbWVNb2RhbC5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIGdldE5hbWVNb2RhbC5jb250ZW50RWwuZmluZCgnaW5wdXQnKS5mb2N1cygpO1xuICAgIH1cbiAgICBnZXROYW1lTW9kYWwub3BlbigpO1xuICB9XG5cbiAgYXN5bmMgc2F2ZUNzc1NuaXBwZXRzQ29uZmlnKCkge1xuICAgIGNvbnN0IGdldE5hbWVNb2RhbCA9IG5ldyBNb2RhbCh0aGlzLmFwcCkuc2V0VGl0bGUoJ0FkZCBuZXcgY3NzIHNuaXBwZXRzIGNvbmZpZycpO1xuICAgIGdldE5hbWVNb2RhbC5vbk9wZW4gPSAoKSA9PiB7XG4gICAgICBsZXQgY29uZmlnTmFtZSA9ICcnXG4gICAgICBuZXcgU2V0dGluZyhnZXROYW1lTW9kYWwuY29udGVudEVsKVxuICAgICAgICAuc2V0TmFtZSgnQ29uZmlnIG5hbWUnKVxuICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBjb25maWdOYW1lID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgICkpXG4gICAgICAgIC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCdTYXZlJylcbiAgICAgICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY29uZmlnTmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgbmV3IE5vdGljZSgnQ29uZmlnIG5hbWUgaXMgZW1wdHkuJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZW5hYmxlZGNzc3NuaXBwZXRzLnB1c2goXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVDdXJDc3NTbmlwcGV0c0NvbmZpZyh0aGlzLmFwcC5zZXR0aW5nLnRhYkNvbnRlbnRDb250YWluZXIsIGNvbmZpZ05hbWUpKTtcbiAgICAgICAgICAgICAgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgZ2V0TmFtZU1vZGFsLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgZ2V0TmFtZU1vZGFsLmNvbnRlbnRFbC5maW5kKCdpbnB1dCcpLmZvY3VzKCk7XG4gICAgfVxuICAgIGdldE5hbWVNb2RhbC5vcGVuKCk7XG5cbiAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICB9XG5cbiAgY3JlYXRlQ3VyQ3NzU25pcHBldHNDb25maWcoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY29uZmlnTmFtZTogc3RyaW5nKTogRW5hYmxlZENzc1NuaXBwZXRzIHtcbiAgICBjb25zdCBzbmlwcGV0c0xpc3RFbCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuc2V0dGluZy1pdGVtLnNldHRpbmctaXRlbS1oZWFkaW5nOmhhcyguY2xpY2thYmxlLWljb24pIH4gLnNldHRpbmctaXRlbS5tb2QtdG9nZ2xlJyk7XG4gICAgY29uc3Qgc25pcHBldHMgPSBBcnJheS5mcm9tKHNuaXBwZXRzTGlzdEVsKS5tYXAoKHNuaXBwZXRFbCkgPT4ge1xuICAgICAgcmV0dXJuIHNuaXBwZXRFbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLW5hbWUnKT8udGV4dENvbnRlbnQgfHwgJyc7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoMTApLFxuICAgICAgbmFtZTogY29uZmlnTmFtZSxcbiAgICAgIGVuYWJsZWRjc3NzbmlwcGV0czogc25pcHBldHNcbiAgICB9O1xuICB9XG5cbiAgLyogY29tbXVuaXR5IHBsdWdpbnMgKi9cbiAgY3JlYXRlQ29tUGx1Z2luc0NvbmZpZ0xpc3QoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnNtZW51RWwpIHsgcmV0dXJuOyB9XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlZHBsdWdpbnNncm91cC5sZW5ndGggPT09IDApIHtcbiAgICAgIG5ldyBOb3RpY2UoJ05vIHNhdmVkIGNvbmZpZ3VyYXRpb24nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jb25maWdMaXN0RWwgPSB0aGlzLm9wdGlvbnNtZW51RWwuY3JlYXRlRWwoJ2RpdicsIHsgYXR0cjogeyBjbGFzczogJ3BtLWNvbmZpZ3MnIH0gfSk7XG4gICAgY29uc3QgY29uZmlnQ2xvc2VFbCA9IHRoaXMuY29uZmlnTGlzdEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGF0dHI6IHsgY2xhc3M6ICdwbS10YWIgcG0tY29uZmlnIHBtLWNvbmZpZy1jbG9zZScsIHZhbHVlOiAnY2xvc2UtaWNvbicgfSB9KTtcbiAgICBzZXRJY29uKGNvbmZpZ0Nsb3NlRWwsICd4Jyk7XG4gICAgdGhpcy5yZWdpc3RlckRvbUV2ZW50KGNvbmZpZ0Nsb3NlRWwsICdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuY29uZmlnTGlzdEVsICYmIHRoaXMuY29uZmlnTGlzdEVsLnJlbW92ZSgpO1xuICAgICAgdGhpcy5jb25maWdMaXN0RWwgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNldHRpbmdzLmVuYWJsZWRwbHVnaW5zZ3JvdXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbmZpZ0l0ZW1FbCA9IHRoaXMuY29uZmlnTGlzdEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGF0dHI6IHsgY2xhc3M6ICdwbS10YWIgcG0tY29uZmlnJywgdmFsdWU6IHRoaXMuc2V0dGluZ3MuZW5hYmxlZHBsdWdpbnNncm91cFtpXS5pZCB9IH0pO1xuICAgICAgY29uc3QgY29uZmlnSXRlbUJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQoY29uZmlnSXRlbUVsKTtcbiAgICAgIGNvbmZpZ0l0ZW1CdXR0b24uc2V0SWNvbigncHV6emxlJyk7XG4gICAgICBjb25maWdJdGVtQnV0dG9uLnNldFRvb2x0aXAodGhpcy5zZXR0aW5ncy5lbmFibGVkcGx1Z2luc2dyb3VwW2ldLm5hbWUpO1xuICAgICAgY29uZmlnSXRlbUJ1dHRvbi5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5sb2FkQ29tUGx1Z2luc0NvbmZpZyh0aGlzLnNldHRpbmdzLmVuYWJsZWRwbHVnaW5zZ3JvdXBbaV0pO1xuICAgICAgICB0aGlzLmNvbmZpZ0xpc3RFbCAmJiB0aGlzLmNvbmZpZ0xpc3RFbC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5jb25maWdMaXN0RWwgPSBudWxsO1xuICAgICAgICAvLyBhd2FpdCBzZXR0aW5ndGFic1s2XS5kaXNwbGF5KCk7IC8vIFx1NjAyN1x1ODBGRFx1OTVFRVx1OTg5OFx1RkYwQ1x1NUZFQlx1OTAxRlx1NTIwN1x1NjM2Mlx1OTE0RFx1N0Y2RVx1NjVGNlx1NEYxQVx1NjVFMFx1NkNENVx1NjYzRVx1NzkzQVx1RkYwQ1x1NTZFMFx1NkI2NFx1NEUwRFx1NEY3Rlx1NzUyOCBkaXNhcGxheSgpIFx1NTIzN1x1NjVCMFx1OTg3NVx1OTc2Mlx1MzAwMlxuICAgICAgfSk7XG4gICAgICB0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoY29uZmlnSXRlbUVsLCAnY29udGV4dG1lbnUnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgbWVudSA9IG5ldyBNZW51KCk7XG4gICAgICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcbiAgICAgICAgICBpdGVtLnNldFRpdGxlKCdEZWxldGUnKS5zZXRJY29uKCd0cmFzaCcpO1xuICAgICAgICAgIGl0ZW0ub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLmVuYWJsZWRwbHVnaW5zZ3JvdXAuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIGNvbmZpZ0l0ZW1FbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ0xpc3RFbCAmJiB0aGlzLmNvbmZpZ0xpc3RFbC5jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgdGhpcy5jb25maWdMaXN0RWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIHRoaXMuY29uZmlnTGlzdEVsID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcbiAgICAgICAgICBpdGVtLnNldFRpdGxlKCdSZW5hbWUnKS5zZXRJY29uKCdwZW5jaWwnKTtcbiAgICAgICAgICBpdGVtLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5hbWVDb21QbHVnaW5zQ29uZmlnKGkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgbWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmFtZUNvbVBsdWdpbnNDb25maWcoaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGdldE5hbWVNb2RhbCA9IG5ldyBNb2RhbCh0aGlzLmFwcCkuc2V0VGl0bGUoJ1JlbmFtZSBwbHVnaW5zIGNvbmZpZycpO1xuICAgIGdldE5hbWVNb2RhbC5vbk9wZW4gPSAoKSA9PiB7XG4gICAgICBsZXQgY29uZmlnTmFtZSA9ICcnXG4gICAgICBuZXcgU2V0dGluZyhnZXROYW1lTW9kYWwuY29udGVudEVsKVxuICAgICAgICAuc2V0TmFtZSgnQ29uZmlnIG5hbWUnKVxuICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIodGhpcy5zZXR0aW5ncy5lbmFibGVkcGx1Z2luc2dyb3VwW2luZGV4XS5uYW1lKVxuICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbmZpZ05hbWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgKSlcbiAgICAgICAgLmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG4gICAgICAgICAgLnNldEJ1dHRvblRleHQoJ1NhdmUnKVxuICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChjb25maWdOYW1lID09PSAnJykge1xuICAgICAgICAgICAgICBuZXcgTm90aWNlKCdDb25maWcgbmFtZSBpcyBlbXB0eS4nKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5lbmFibGVkcGx1Z2luc2dyb3VwW2luZGV4XS5uYW1lID0gY29uZmlnTmFtZTtcbiAgICAgICAgICAgICAgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgZ2V0TmFtZU1vZGFsLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgZ2V0TmFtZU1vZGFsLmNvbnRlbnRFbC5maW5kKCdpbnB1dCcpLmZvY3VzKCk7XG4gICAgfVxuICAgIGdldE5hbWVNb2RhbC5vcGVuKCk7XG4gIH1cblxuICBsb2FkQ29tUGx1Z2luc0NvbmZpZyhjb25maWc6IEVuYWJsZWRQbHVnaW5zKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmFwcC5zZXR0aW5nLnNldHRpbmdUYWJzWzZdLmluc3RhbGxlZFBsdWdpbnNFbCkgeyByZXR1cm47IH1cbiAgICBjb25zdCBwbHVnaW5zTGlzdEVsID0gdGhpcy5hcHAuc2V0dGluZy5zZXR0aW5nVGFic1s2XS5pbnN0YWxsZWRQbHVnaW5zRWwuY2hpbGROb2RlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsdWdpbnNMaXN0RWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBsdWdpbkVsID0gcGx1Z2luc0xpc3RFbFtpXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IHBsdWdpbk5hbWUgPSBwbHVnaW5FbC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZy1pdGVtLW5hbWUnKT8udGV4dENvbnRlbnQ7XG4gICAgICBpZiAoIXBsdWdpbk5hbWUpIHsgY29udGludWU7IH1cbiAgICAgIGNvbnN0IHBsdWdpbkRlc2NyaXB0aW9uID0gcGx1Z2luRWwucXVlcnlTZWxlY3RvcignLnNldHRpbmctaXRlbS1kZXNjcmlwdGlvbicpPy5sYXN0Q2hpbGQ/LnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgY29uc3QgcGx1Z2luSWQgPSB0aGlzLm5hbWVUb0lkKHBsdWdpbk5hbWUsIHBsdWdpbkRlc2NyaXB0aW9uKTtcbiAgICAgIGlmIChwbHVnaW5JZCAmJiBjb25maWcuZW5hYmxlZHBsdWdpbnMuaW5jbHVkZXMocGx1Z2luSWQpKSB7XG4gICAgICAgIGNvbnN0IHBsdWdpblRvZ2dsZUJ1dHRvbiA9IHBsdWdpbkVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveC1jb250YWluZXInKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKHBsdWdpblRvZ2dsZUJ1dHRvbiAmJiAhcGx1Z2luVG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnaXMtZW5hYmxlZCcpKSB7XG4gICAgICAgICAgcGx1Z2luVG9nZ2xlQnV0dG9uLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHBsdWdpbklkICYmICFjb25maWcuZW5hYmxlZHBsdWdpbnMuaW5jbHVkZXMocGx1Z2luSWQpKSB7XG4gICAgICAgIGNvbnN0IHBsdWdpblRvZ2dsZUJ1dHRvbiA9IHBsdWdpbkVsLnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2JveC1jb250YWluZXInKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKHBsdWdpblRvZ2dsZUJ1dHRvbiAmJiBwbHVnaW5Ub2dnbGVCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1lbmFibGVkJykpIHtcbiAgICAgICAgICBwbHVnaW5Ub2dnbGVCdXR0b24uY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBDYW4ndCBmaW5kIHBsdWdpbjogJHtwbHVnaW5OYW1lfWApO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyAoKCkgPT4geyBwbHVnaW5zLmVuYWJsZVBsdWdpbkFuZFNhdmUocGx1Z2luaWQpOyB9KSgpOyAgc2V0dGluZ3RhYnNbNl0uZGlzcGxheSgpOyBhcmUgYWJhbmRvbmVkIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgaXNzdWVzXG4gICAgLy8gY29uc3QgcGx1Z2lucyA9IHRoaXMuYXBwLnBsdWdpbnM7XG4gICAgLy8gLy8gY29uc29sZS5sb2coJ2NvbmZpZycsIGNvbmZpZyk7XG4gICAgLy8gLy8gbGV0IGxvYWRlcjtcbiAgICAvLyBPYmplY3Qua2V5cyhwbHVnaW5zLm1hbmlmZXN0cykuZm9yRWFjaCgocGx1Z2luaWQpID0+IHtcbiAgICAvLyAgIGlmIChjb25maWcuZW5hYmxlZHBsdWdpbnMuaW5jbHVkZXMocGx1Z2luaWQpKSB7XG4gICAgLy8gICAgICgoKSA9PiB7IHBsdWdpbnMuZW5hYmxlUGx1Z2luQW5kU2F2ZShwbHVnaW5pZCk7IH0pKCk7XG4gICAgLy8gICB9IGVsc2UgaWYgKCFjb25maWcuZW5hYmxlZHBsdWdpbnMuaW5jbHVkZXMocGx1Z2luaWQpKSB7XG4gICAgLy8gICAgICgoKSA9PiB7IHBsdWdpbnMuZGlzYWJsZVBsdWdpbkFuZFNhdmUocGx1Z2luaWQpOyB9KSgpO1xuICAgIC8vICAgfVxuICAgIC8vIH0pO1xuICB9XG5cbiAgbmFtZVRvSWQobmFtZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5hcHAucGx1Z2lucy5tYW5pZmVzdHMpLmZpbmQoa2V5ID0+XG4gICAgKHRoaXMuYXBwLnBsdWdpbnMubWFuaWZlc3RzW2tleV0ubmFtZSA9PT0gbmFtZSAmJlxuICAgICAgdGhpcy5hcHAucGx1Z2lucy5tYW5pZmVzdHNba2V5XS5kZXNjcmlwdGlvbiA9PT0gZGVzY3JpcHRpb24pKSB8fCAnJztcbiAgfVxuXG4gIHNhdmVDb21tdW5pdHlQbHVnaW5zQ29uZmlnKCk6IHZvaWQge1xuICAgIGNvbnN0IGdldE5hbWVNb2RhbCA9IG5ldyBNb2RhbCh0aGlzLmFwcCkuc2V0VGl0bGUoJ0FkZCBuZXcgY29tbXVuaXR5IHBsdWdpbnMgY29uZmlnJyk7XG4gICAgZ2V0TmFtZU1vZGFsLm9uT3BlbiA9ICgpID0+IHtcbiAgICAgIGxldCBjb25maWdOYW1lID0gJydcbiAgICAgIG5ldyBTZXR0aW5nKGdldE5hbWVNb2RhbC5jb250ZW50RWwpXG4gICAgICAgIC5zZXROYW1lKCdDb25maWcgbmFtZScpXG4gICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbmZpZ05hbWUgPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgKSlcbiAgICAgICAgLmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG4gICAgICAgICAgLnNldEJ1dHRvblRleHQoJ1NhdmUnKVxuICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChjb25maWdOYW1lID09PSAnJykge1xuICAgICAgICAgICAgICBuZXcgTm90aWNlKCdDb25maWcgbmFtZSBpcyBlbXB0eS4nKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5lbmFibGVkcGx1Z2luc2dyb3VwLnB1c2godGhpcy5jcmVhdGVDdXJDb21QbHVnaW5zQ29uZmlnKHRoaXMuYXBwLnBsdWdpbnMuZW5hYmxlZFBsdWdpbnMsIGNvbmZpZ05hbWUpKTtcbiAgICAgICAgICAgICAgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgZ2V0TmFtZU1vZGFsLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgZ2V0TmFtZU1vZGFsLmNvbnRlbnRFbC5maW5kKCdpbnB1dCcpLmZvY3VzKCk7XG4gICAgfVxuICAgIGdldE5hbWVNb2RhbC5vcGVuKCk7XG4gIH1cblxuICBjcmVhdGVDdXJDb21QbHVnaW5zQ29uZmlnKGVuYWJsZWRQbHVnaW5zOiBTZXQ8c3RyaW5nPiwgbmFtZTogc3RyaW5nKTogRW5hYmxlZFBsdWdpbnMge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygxMCksXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgZW5hYmxlZHBsdWdpbnM6IEFycmF5LmZyb20oZW5hYmxlZFBsdWdpbnMpXG4gICAgfVxuICB9XG59IiwgImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBFbmFibGVkQ3NzU25pcHBldHMsIEVuYWJsZWRQbHVnaW5zIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuXHJcbmltcG9ydCBTZXR0aW5nc01hbmFnZW1lbnQgZnJvbSBcIi4vbWFpblwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5nc09wdGlvbnNNYW5hZ2VtZW50U2V0dGluZ3Mge1xyXG4gIGVuYWJsZWRwbHVnaW5zZ3JvdXA6IEVuYWJsZWRQbHVnaW5zW107XHJcbiAgZW5hYmxlZGNzc3NuaXBwZXRzOiBFbmFibGVkQ3NzU25pcHBldHNbXTtcclxuICBwbHVnaW5zZ3JpZHR5cGU6ICdsaXN0JyB8ICdncmlkJztcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFNldHRpbmdzT3B0aW9uc01hbmFnZW1lbnRTZXR0aW5ncyA9IHtcclxuICBlbmFibGVkcGx1Z2luc2dyb3VwOiBbXSxcclxuICBlbmFibGVkY3Nzc25pcHBldHM6IFtdLFxyXG4gIHBsdWdpbnNncmlkdHlwZTogJ2xpc3QnLFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ09wdGlvbnNNYW5hZ2VtZW50U2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG4gIHBsdWdpbjogU2V0dGluZ3NNYW5hZ2VtZW50O1xyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFNldHRpbmdzTWFuYWdlbWVudCkge1xyXG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgfVxyXG5cclxuICBkaXNwbGF5KCkge1xyXG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpc1xyXG4gICAgY29udGFpbmVyRWwuZW1wdHkoKVxyXG4gIH1cclxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBOEc7OztBQ0E5RyxzQkFBc0M7QUFXL0IsSUFBTSxtQkFBc0Q7QUFBQSxFQUNqRSxxQkFBcUIsQ0FBQztBQUFBLEVBQ3RCLG9CQUFvQixDQUFDO0FBQUEsRUFDckIsaUJBQWlCO0FBQ25COzs7QUQyQkEsSUFBcUIscUJBQXJCLGNBQWdELHdCQUFPO0FBQUEsRUFTckQsTUFBTSxTQUFTO0FBQ2IsVUFBTSxLQUFLLGFBQWE7QUFDeEIsVUFBTSxLQUFLLGFBQWE7QUFHeEIsU0FBSyxnQkFBZ0IsS0FBSyxJQUFJLFFBQVEsWUFBWSxJQUFJLFNBQU8sSUFBSSxFQUFFO0FBQ25FLFNBQUssWUFBWSxDQUFDLGNBQWMsV0FBVyxXQUFXLG1CQUFtQjtBQUN6RSxTQUFLLGdCQUFnQjtBQUdyQixTQUFLLGVBQWU7QUFDcEIsVUFBTSxLQUFLLDBCQUEwQjtBQUFBLEVBQ3ZDO0FBQUEsRUFFQSxXQUFXO0FBQ1QsU0FBSyxXQUFXO0FBQ2hCLFNBQUssYUFBYTtBQUFBLEVBQ3BCO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDbkIsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsa0JBQWtCLE1BQU0sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUMzRTtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ25CLFVBQU0sS0FBSyxTQUFT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
